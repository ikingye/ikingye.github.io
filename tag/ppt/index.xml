<?xml version="1.0" encoding="utf-8" standalone="yes" ?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>PPT | å¶ç‹è¯´</title>
    <link>https://blog.kingye.me/tag/ppt/</link>
      <atom:link href="https://blog.kingye.me/tag/ppt/index.xml" rel="self" type="application/rss+xml" />
    <description>PPT</description>
    <generator>Wowchemy (https://wowchemy.com)</generator><language>zh-cn</language><lastBuildDate>Tue, 05 Feb 2019 00:00:00 +0000</lastBuildDate>
    <image>
      <url>https://blog.kingye.me/media/icon_hu5a99a96afa0d5c480d2983cdb70f75bc_28032_512x512_fill_lanczos_center_3.png</url>
      <title>PPT</title>
      <link>https://blog.kingye.me/tag/ppt/</link>
    </image>
    
    <item>
      <title>Kubernetes ç½‘ç»œä»é›¶å¼€å§‹</title>
      <link>https://blog.kingye.me/slides/kubernetes-network/</link>
      <pubDate>Tue, 05 Feb 2019 00:00:00 +0000</pubDate>
      <guid>https://blog.kingye.me/slides/kubernetes-network/</guid>
      <description>&lt;h1 id=&#34;kubernetes-ç½‘ç»œä»é›¶å¼€å§‹&#34;&gt;Kubernetes ç½‘ç»œä»é›¶å¼€å§‹&lt;/h1&gt;
&lt;!-- &lt;span class=&#34;fragment &#34; data-fragment-index=&#34;2&#34;&gt;
  One
&lt;/span&gt;
&lt;span class=&#34;fragment &#34; data-fragment-index=&#34;3&#34;&gt;
  &lt;strong&gt;Two&lt;/strong&gt;
&lt;/span&gt;
&lt;span class=&#34;fragment &#34; data-fragment-index=&#34;1&#34;&gt;
  Three
&lt;/span&gt; --&gt;
&lt;aside class=&#34;notes&#34;&gt;
  &lt;ul&gt;
&lt;li&gt;Only the speaker can read these notes&lt;/li&gt;
&lt;li&gt;Press &lt;code&gt;S&lt;/code&gt; key to view&lt;/li&gt;
&lt;/ul&gt;

&lt;/aside&gt;
&lt;hr&gt;
&lt;h1 id=&#34;ä¸€è®¡ç®—æœºç½‘ç»œåŸºç¡€&#34;&gt;ä¸€ã€è®¡ç®—æœºç½‘ç»œåŸºç¡€&lt;/h1&gt;
&lt;p&gt;è‡ªåº•å‘ä¸Š&lt;/p&gt;
&lt;!-- å‚è€ƒï¼šhttps://mp.weixin.qq.com/s/jiPMUk6zUdOY6eKxAjNDbQ --&gt;
&lt;hr&gt;
&lt;h2 id=&#34;1-ç‰©ç†å±‚&#34;&gt;1. ç‰©ç†å±‚&lt;/h2&gt;
&lt;p&gt;















&lt;figure  &gt;
  &lt;div class=&#34;d-flex justify-content-center&#34;&gt;
    &lt;div class=&#34;w-100&#34; &gt;&lt;img src=&#34;https://mmbiz.qpic.cn/mmbiz_gif/GLeh42uInXTFXnSdksTicclQTOX582DoCrYnicXVEFB08yAx2BZzLkysFuWL5FibvYcWcfp0GzPsXx1abuZUCtd7g/640?wx_fmt=gif&amp;amp;wxfrom=5&amp;amp;wx_lazy=1&#34; alt=&#34;bg right fit 70%&#34; loading=&#34;lazy&#34; data-zoomable /&gt;&lt;/div&gt;
  &lt;/div&gt;&lt;/figure&gt;
&lt;/p&gt;
&lt;p&gt;















&lt;figure  &gt;
  &lt;div class=&#34;d-flex justify-content-center&#34;&gt;
    &lt;div class=&#34;w-100&#34; &gt;&lt;img src=&#34;https://mmbiz.qpic.cn/mmbiz_png/GLeh42uInXQx9EiaWwmE0kby98Qg4naDUxKgLPfUANW7KwruqniacE5p9399ia7yriaIcCq8nyMoayQjoEsVKwDia8A/640?wx_fmt=png&amp;amp;wxfrom=5&amp;amp;wx_lazy=1&amp;amp;wx_co=1&#34; alt=&#34;bg vertical right fit&#34; loading=&#34;lazy&#34; data-zoomable /&gt;&lt;/div&gt;
  &lt;/div&gt;&lt;/figure&gt;
&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;ç‰©ç†å±‚è´Ÿè´£æŠŠä¸¤å°è®¡ç®—æœºè¿èµ·æ¥ï¼Œ&lt;/li&gt;
&lt;li&gt;è®¡ç®—æœºä¹‹é—´é€šè¿‡é«˜ä½ç”µé¢‘æ¥ä¼ é€ 0,1 è¿™æ ·çš„ç”µä¿¡å·ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;hr&gt;
&lt;h3 id=&#34;é›†çº¿å™¨&#34;&gt;é›†çº¿å™¨&lt;/h3&gt;
&lt;p&gt;















&lt;figure  &gt;
  &lt;div class=&#34;d-flex justify-content-center&#34;&gt;
    &lt;div class=&#34;w-100&#34; &gt;&lt;img src=&#34;https://mmbiz.qpic.cn/mmbiz_gif/GLeh42uInXQx9EiaWwmE0kby98Qg4naDUl92YUvqpCPvQDMRm2mnVUiccD6zUVhzJp9Ut5qetr0Le1d0rtnSw59A/640?wx_fmt=gif&amp;amp;wxfrom=5&amp;amp;wx_lazy=1&#34; alt=&#34;bg right fit&#34; loading=&#34;lazy&#34; data-zoomable /&gt;&lt;/div&gt;
  &lt;/div&gt;&lt;/figure&gt;
&lt;/p&gt;
&lt;p&gt;æ€ä¹ˆçŸ¥é“æ•°æ®åŒ…æ˜¯ä¸æ˜¯å‘ç»™è‡ªå·±çš„å‘¢&lt;/p&gt;
&lt;hr&gt;
&lt;h2 id=&#34;2-æ•°æ®é“¾è·¯å±‚&#34;&gt;2 æ•°æ®é“¾è·¯å±‚&lt;/h2&gt;
&lt;p&gt;















&lt;figure  &gt;
  &lt;div class=&#34;d-flex justify-content-center&#34;&gt;
    &lt;div class=&#34;w-100&#34; &gt;&lt;img src=&#34;https://mmbiz.qpic.cn/mmbiz_gif/GLeh42uInXQx9EiaWwmE0kby98Qg4naDUaS3FORjib7sYG4vKJJPOhb6Kjv8xpH7V2NZSa8wuj6bJceLegIee2cQ/640?wx_fmt=gif&amp;amp;wxfrom=5&amp;amp;wx_lazy=1&#34; alt=&#34;bg right fit&#34; loading=&#34;lazy&#34; data-zoomable /&gt;&lt;/div&gt;
  &lt;/div&gt;&lt;/figure&gt;
&lt;/p&gt;
&lt;p&gt;åªå‘ç»™ç›®æ ‡ MAC åœ°å€æŒ‡å‘çš„é‚£å°ç”µè„‘&lt;/p&gt;
&lt;hr&gt;
&lt;h3 id=&#34;äº¤æ¢æœº-switch&#34;&gt;äº¤æ¢æœº switch&lt;/h3&gt;
&lt;p&gt;















&lt;figure  &gt;
  &lt;div class=&#34;d-flex justify-content-center&#34;&gt;
    &lt;div class=&#34;w-100&#34; &gt;&lt;img src=&#34;https://mmbiz.qpic.cn/mmbiz_gif/GLeh42uInXTDPrOXlicmulCTjcL9deOvQkaodoHNwcTO5ibDLM6TIgQymoHibokkd9dVuaGuZNal0glFGgM8ib3zsw/640?wx_fmt=gif&amp;amp;wxfrom=5&amp;amp;wx_lazy=1&#34; alt=&#34;bg right fit&#34; loading=&#34;lazy&#34; data-zoomable /&gt;&lt;/div&gt;
  &lt;/div&gt;&lt;/figure&gt;

switch æœ¬èº«å°±æ˜¯ä¸€ç§ bridge/ç½‘æ¡¥&lt;/p&gt;
&lt;hr&gt;
&lt;h2 id=&#34;3-ç½‘ç»œå±‚&#34;&gt;3 ç½‘ç»œå±‚&lt;/h2&gt;
&lt;p&gt;















&lt;figure  &gt;
  &lt;div class=&#34;d-flex justify-content-center&#34;&gt;
    &lt;div class=&#34;w-100&#34; &gt;&lt;img src=&#34;https://mmbiz.qpic.cn/mmbiz_png/GLeh42uInXTFXnSdksTicclQTOX582DoCmQ3SttlldnkicT7qBibOibWwLq7hSFqhviad94QiaM7HrfVibzpAK3zknL8A/640?wx_fmt=png&amp;amp;wxfrom=5&amp;amp;wx_lazy=1&amp;amp;wx_co=1&#34; alt=&#34;bg right fit&#34; loading=&#34;lazy&#34; data-zoomable /&gt;&lt;/div&gt;
  &lt;/div&gt;&lt;/figure&gt;
&lt;/p&gt;
&lt;p&gt;å¦‚æœæœºå™¨æ•°é‡è¶…è¿‡äº†è·¯ç”±å™¨çš„ç½‘å£æ•°é‡&lt;/p&gt;
&lt;hr&gt;
&lt;h3 id=&#34;è·¯ç”±å™¨-1&#34;&gt;è·¯ç”±å™¨ 1&lt;/h3&gt;
&lt;p&gt;















&lt;figure  &gt;
  &lt;div class=&#34;d-flex justify-content-center&#34;&gt;
    &lt;div class=&#34;w-100&#34; &gt;&lt;img src=&#34;https://mmbiz.qpic.cn/mmbiz_png/GLeh42uInXQx9EiaWwmE0kby98Qg4naDUibbMdTf8L5icCJytKmb5IyXauL0xZ5qLoQ7lCoNpKKibp4wedgS3MeXPg/640?wx_fmt=png&amp;amp;wxfrom=5&amp;amp;wx_lazy=1&amp;amp;wx_co=1&#34; alt=&#34;bg right 108% fit&#34; loading=&#34;lazy&#34; data-zoomable /&gt;&lt;/div&gt;
  &lt;/div&gt;&lt;/figure&gt;
&lt;/p&gt;
&lt;p&gt;















&lt;figure  &gt;
  &lt;div class=&#34;d-flex justify-content-center&#34;&gt;
    &lt;div class=&#34;w-100&#34; &gt;&lt;img src=&#34;https://mmbiz.qpic.cn/mmbiz_png/GLeh42uInXS8pNwB4IrqPBOVibO9bMW6285rxNapFpZuzsDYwicEqEKLiaKP7GJyZwv6llbf1BicLhLEQnUHY7WoEQ/640?wx_fmt=png&amp;amp;wxfrom=5&amp;amp;wx_lazy=1&amp;amp;wx_co=1&#34; alt=&#34;bg right fit&#34; loading=&#34;lazy&#34; data-zoomable /&gt;&lt;/div&gt;
  &lt;/div&gt;&lt;/figure&gt;
&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;MAC é•¿åº¦ä¸º 48 ä½
&lt;ul&gt;
&lt;li&gt;å¦‚ï¼š&lt;code&gt;00-16-EA-AE-3C-40&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;å‰ 24 ä½ï¼ˆ&lt;code&gt;00-16-EA&lt;/code&gt;ï¼‰ä»£è¡¨ç½‘ç»œ&lt;code&gt;ç¡¬ä»¶åˆ¶é€ å•†&lt;/code&gt;çš„ç¼–å·&lt;/li&gt;
&lt;li&gt;å 24 ä½ï¼ˆ&lt;code&gt;AE-3C-40&lt;/code&gt;ï¼‰æ˜¯è¯¥å‚å®¶è‡ªå·±åˆ†é…çš„&lt;code&gt;ç³»åˆ—å·&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;åˆ’åˆ†&lt;code&gt;å­ç½‘&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;å¼•å…¥ &lt;code&gt;IP åœ°å€&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;hr&gt;
&lt;h3 id=&#34;è·¯ç”±å™¨-2&#34;&gt;è·¯ç”±å™¨ 2&lt;/h3&gt;
&lt;p&gt;















&lt;figure  &gt;
  &lt;div class=&#34;d-flex justify-content-center&#34;&gt;
    &lt;div class=&#34;w-100&#34; &gt;&lt;img src=&#34;https://mmbiz.qpic.cn/mmbiz_png/GLeh42uInXQx9EiaWwmE0kby98Qg4naDUx1JOzx3EUFX66xFrEzxw9DaDho6tb8paPkhIwXTLENRJ5yU0y7NoYw/640?wx_fmt=png&amp;amp;wxfrom=5&amp;amp;wx_lazy=1&amp;amp;wx_co=1&#34; alt=&#34;bg right 90% fit&#34; loading=&#34;lazy&#34; data-zoomable /&gt;&lt;/div&gt;
  &lt;/div&gt;&lt;/figure&gt;
&lt;/p&gt;
&lt;small&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;ç›®çš„åœ°å€&lt;/th&gt;
&lt;th&gt;ä¸‹ä¸€è·³&lt;/th&gt;
&lt;th&gt;ç«¯å£&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;192.168.0.0/24&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;0&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;192.168.0.254/32&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;0&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;192.168.1.0/24&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;1&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;192.168.1.254/32&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;1&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;192.168.2.0/24&lt;/td&gt;
&lt;td&gt;192.168.100.5&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;192.168.100.0/24&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;2&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;192.168.100.4/32&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;2&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;p&gt;è·¯ç”±è¡¨æ˜¯å„ç§&lt;code&gt;è·¯ç”±ç®—æ³•&lt;/code&gt; + &lt;code&gt;äººå·¥é…ç½®&lt;/code&gt;é€æ­¥å®Œå–„èµ·æ¥çš„&lt;/p&gt;
&lt;/small&gt;
&lt;hr&gt;
&lt;h3 id=&#34;è·¯ç”±å™¨-3&#34;&gt;è·¯ç”±å™¨ 3&lt;/h3&gt;
&lt;p&gt;















&lt;figure  &gt;
  &lt;div class=&#34;d-flex justify-content-center&#34;&gt;
    &lt;div class=&#34;w-100&#34; &gt;&lt;img src=&#34;https://mmbiz.qpic.cn/mmbiz_gif/GLeh42uInXQx9EiaWwmE0kby98Qg4naDUZ1ynpXjWpEwYvdjGVcQcARHGbQrzgwj3Jnk54CfnNXhGCiavAZKrgsw/640?wx_fmt=gif&amp;amp;wxfrom=5&amp;amp;wx_lazy=1&#34; alt=&#34;bg right fit&#34; loading=&#34;lazy&#34; data-zoomable /&gt;&lt;/div&gt;
  &lt;/div&gt;&lt;/figure&gt;
&lt;/p&gt;
&lt;p&gt;æ•°æ®åŒ…çš„ä¸¤ä¸ª &lt;code&gt;IP åœ°å€ä¸å˜&lt;/code&gt;ï¼Œ&lt;code&gt;MAC åœ°å€ä¸æ–­å˜åŒ–&lt;/code&gt;&lt;/p&gt;
&lt;hr&gt;
&lt;h2 id=&#34;4-ä¼ è¾“å±‚-tcp-udp&#34;&gt;4 ä¼ è¾“å±‚ (TCP, UDP)&lt;/h2&gt;
&lt;p&gt;















&lt;figure  &gt;
  &lt;div class=&#34;d-flex justify-content-center&#34;&gt;
    &lt;div class=&#34;w-100&#34; &gt;&lt;img src=&#34;https://cdn.jsdelivr.net/gh/ikingye/imagehost/picgo/20200525230718.png&#34; alt=&#34;bg vertical right fit&#34; loading=&#34;lazy&#34; data-zoomable /&gt;&lt;/div&gt;
  &lt;/div&gt;&lt;/figure&gt;

















&lt;figure  &gt;
  &lt;div class=&#34;d-flex justify-content-center&#34;&gt;
    &lt;div class=&#34;w-100&#34; &gt;&lt;img src=&#34;https://cdn.jsdelivr.net/gh/ikingye/imagehost/picgo/20200525235421.png&#34; alt=&#34;bg fit&#34; loading=&#34;lazy&#34; data-zoomable /&gt;&lt;/div&gt;
  &lt;/div&gt;&lt;/figure&gt;
&lt;/p&gt;
&lt;hr&gt;
&lt;h2 id=&#34;5-ä¼šè¯å±‚-6-è¡¨ç¤ºå±‚&#34;&gt;5 ä¼šè¯å±‚, 6. è¡¨ç¤ºå±‚&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;small&gt;è¡¨ç¤ºå±‚ã€ä¼šè¯å±‚çš„ä¸œè¥¿ï¼Œæ›´å¤šçš„æ˜¯åšæˆäº†ä¸€ç§æ ‡å‡†ä»¶ï¼Œç›´æ¥è¢«æ‹¿æ¥ç”¨ï¼Œé›†æˆè¿›äº†åº”ç”¨ä¸­ã€‚&lt;/small&gt;&lt;/li&gt;
&lt;li&gt;&lt;small&gt;æ¯”å¦‚è¯´ä½ è¦åšä¸€ä¸ªè§†é¢‘èŠå¤©ï¼Œä½ éœ€è¦ä¼šè¯æ§åˆ¶ï¼Œå®ç°æ‹¨å·ã€å‘¼å«ã€é€šè¯ã€æš‚åœã€æŒ‚æ–­ç­‰ï¼Œç„¶åä½ æ‹¿æ¥äº† sipï¼Œè¿™å°±æ˜¯&lt;code&gt;ä¼šè¯å±‚&lt;/code&gt;çš„ä¸œè¥¿ï¼›&lt;/small&gt;&lt;/li&gt;
&lt;li&gt;&lt;small&gt;ä½ éœ€è¦è§†é¢‘çš„ç¼–ç ä¸å‹ç¼©ï¼ŒæŠŠä½ è¿™é‡‡é›†çš„è§†é¢‘ä¿¡å·ä¼ è¾“åˆ°å¯¹é¢å¹¶æ’­æ”¾ï¼Œç„¶åä½ æ‹¿æ¥äº† H.264ï¼Œè¿™ä¸ªå°±æ˜¯&lt;code&gt;è¡¨ç¤ºå±‚&lt;/code&gt;çš„ä¸œè¥¿ã€‚&lt;/small&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;















&lt;figure  &gt;
  &lt;div class=&#34;d-flex justify-content-center&#34;&gt;
    &lt;div class=&#34;w-100&#34; &gt;&lt;img src=&#34;https://www.lifewire.com/thmb/zIIyS16p6QJ0o_qxuFHKb3Xs7Gw=/650x0/filters:no_upscale%28%29:max_bytes%28150000%29:strip_icc%28%29:format%28webp%29/layers-of-the-osi-model-illustrated-818017-finalv1-6-ct-f21bdae22e54415b881d77babe8ca51d.png&#34; alt=&#34;bg right fit&#34; loading=&#34;lazy&#34; data-zoomable /&gt;&lt;/div&gt;
  &lt;/div&gt;&lt;/figure&gt;
&lt;/p&gt;
&lt;hr&gt;
&lt;h2 id=&#34;5-ä¼šè¯å±‚-6-è¡¨ç¤ºå±‚-1&#34;&gt;5 ä¼šè¯å±‚, 6. è¡¨ç¤ºå±‚&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;small&gt;&lt;code&gt;ä¼šè¯å±‚&lt;/code&gt;ï¼šä¸ºä¸¤ç«¯é€šä¿¡å®ä½“å»ºç«‹è¿æ¥ï¼ˆä¼šè¯ï¼‰ï¼Œä¸­é—´æœ‰è®¤è¯é‰´æƒä»¥åŠæ£€æŸ¥ç‚¹è®°å½•ï¼ˆä¾›ä¼šè¯æ„å¤–ä¸­æ–­çš„æ—¶å€™å¯ä»¥ç»§ç»­ï¼Œç±»ä¼¼æ–­ç‚¹ç»­ä¼ ï¼‰ã€‚&lt;/small&gt;&lt;/li&gt;
&lt;li&gt;&lt;small&gt;&lt;code&gt;è¡¨ç¤ºå±‚&lt;/code&gt;ï¼šå†³å®šæ•°æ®çš„å±•ç°ï¼ˆç¼–ç ï¼‰å½¢å¼ï¼Œå¦‚åŒä¸€éƒ¨ç”µå½±å¯ä»¥é‡‡æ ·ã€é‡åŒ–ã€ç¼–ç ä¸º RMVBã€AVIï¼Œä¸€å¼ å›¾ç‰‡èƒ½å¤Ÿæ˜¯ JPEGã€BMPã€PNG ç­‰ã€‚&lt;/small&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;















&lt;figure  &gt;
  &lt;div class=&#34;d-flex justify-content-center&#34;&gt;
    &lt;div class=&#34;w-100&#34; &gt;&lt;img src=&#34;https://www.lifewire.com/thmb/b_ZwYvi-prWKmW-TzASVg_aPqw8=/650x0/filters:no_upscale%28%29:max_bytes%28150000%29:strip_icc%28%29:format%28webp%29/layers-of-the-osi-model-illustrated-818017-finalv1-7-ct-e102db1b79da4926b510f944183989f8.png&#34; alt=&#34;bg right fit&#34; loading=&#34;lazy&#34; data-zoomable /&gt;&lt;/div&gt;
  &lt;/div&gt;&lt;/figure&gt;
&lt;/p&gt;
&lt;hr&gt;
&lt;h2 id=&#34;7-åº”ç”¨å±‚&#34;&gt;7 åº”ç”¨å±‚&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;small&gt;&lt;code&gt;åº”ç”¨å±‚&lt;/code&gt;ï¼šå°±æ˜¯åº”ç”¨è½¯ä»¶ä½¿ç”¨çš„åè®®ï¼Œå¦‚é‚®ç®±ä½¿ç”¨çš„ POP3ï¼ŒSMTPã€è¿œç¨‹ç™»å½•ä½¿ç”¨çš„ Telnetã€è·å– IP åœ°å€çš„ DHCPã€åŸŸåè§£æçš„ DNSã€ç½‘é¡µæµè§ˆçš„ http åè®®ç­‰ï¼›è¿™éƒ¨åˆ†åè®®ä¸»è¦æ˜¯è§„å®šåº”ç”¨è½¯ä»¶å¦‚ä½•å»è¿›è¡Œé€šä¿¡çš„ã€‚&lt;/small&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;















&lt;figure  &gt;
  &lt;div class=&#34;d-flex justify-content-center&#34;&gt;
    &lt;div class=&#34;w-100&#34; &gt;&lt;img src=&#34;https://www.lifewire.com/thmb/fh0lzflTr05pDhv3XSoIT7O0WTs=/650x0/filters:no_upscale%28%29:max_bytes%28150000%29:strip_icc%28%29:format%28webp%29/layers-of-the-osi-model-illustrated-818017-finalv1-8-ct-089b2573bf47462d85f9343f50329f72.png&#34; alt=&#34;bg right fit&#34; loading=&#34;lazy&#34; data-zoomable /&gt;&lt;/div&gt;
  &lt;/div&gt;&lt;/figure&gt;
&lt;/p&gt;
&lt;hr&gt;
&lt;h2 id=&#34;8-æœ‰è¶£çš„é—®é¢˜-&#34;&gt;8 æœ‰è¶£çš„é—®é¢˜ ğŸ¤”&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;MAC åœ°å€å¯ä»¥ä¿®æ”¹å—ï¼Ÿ&lt;/li&gt;
&lt;li&gt;æœ‰äº† MAC åœ°å€ä¸ºä»€ä¹ˆè¿˜éœ€è¦ IPï¼Ÿ&lt;/li&gt;
&lt;li&gt;å¯ä»¥æ²¡æœ‰ MAC åœ°å€å—ï¼Ÿ
&lt;ul&gt;
&lt;li&gt;&lt;small&gt;äº¤æ¢æœºæ—¢ç„¶å¯ä»¥å­¦ä¹  MAC åœ°å€ï¼Œé‚£å°±ä¸€å®šå¯ä»¥å­¦ä¹  IP åœ°å€ã€‚è¿™æ ·ï¼Œæ¯ä¸ªç½‘å£æ‰€è¿ç”µè„‘çš„ IP æ˜ å°„å…³ç³»ä¹Ÿå°±çŸ¥é“äº†ã€‚&lt;/small&gt;&lt;/li&gt;
&lt;li&gt;&lt;small&gt;ç”µè„‘ A å¦‚æœæƒ³ç»™ C å‘æ•°æ®ï¼Œå¯ä»¥ä¸æŸ¥ C çš„ MAC åœ°å€ï¼Œè€Œæ˜¯ç›´æ¥ç»™äº¤æ¢æœºå‘ä¸€ä¸ª IP æŠ¥æ–‡ï¼ˆæ³¨æ„ï¼Œè¿™æ¬¡æ²¡æœ‰ MAC å¸§ï¼‰ã€‚äº¤æ¢æœºæ”¶åˆ°åç›´æ¥è½¬å‘ç»™ç”µè„‘ Cã€‚æ•´ä¸ªè¿‡ç¨‹å°±ä»¿ä½›å›åˆ°äº†æœ€å¼€å§‹çš„ç‚¹å¯¹ç‚¹é“¾æ¥è·¯ã€‚&lt;/small&gt;&lt;/li&gt;
&lt;li&gt;&lt;small&gt;ç°åœ¨æ²¡æœ‰å»æ‰ MAC åœ°å€ï¼Œå¯èƒ½æ˜¯å› ä¸ºä»¥å¤ªç½‘è®¾å¤‡å·²ç»éå¸ƒå…¨çƒï¼Œä¹Ÿè¶³å¤Ÿä¾¿å®œï¼Œå·²ç»æ²¡æœ‰å¿…è¦å†ä¼˜åŒ–äº†ã€‚&lt;/small&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;hr&gt;
&lt;h1 id=&#34;äºŒå®¹å™¨ç½‘ç»œ&#34;&gt;äºŒã€å®¹å™¨ç½‘ç»œ&lt;/h1&gt;
&lt;hr&gt;
&lt;h2 id=&#34;21-éš”ç¦»&#34;&gt;2.1 éš”ç¦»&lt;/h2&gt;
&lt;hr&gt;
&lt;h3 id=&#34;linux-namespaces&#34;&gt;Linux Namespaces&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;Mountï¼šéš”ç¦»æ–‡ä»¶ç³»ç»ŸåŠ è½½ç‚¹ï¼›&lt;/li&gt;
&lt;li&gt;UTSï¼šéš”ç¦»ä¸»æœºåå’ŒåŸŸåï¼›&lt;/li&gt;
&lt;li&gt;IPCï¼šéš”ç¦»è·¨è¿›ç¨‹é€šä¿¡ï¼ˆIPCï¼‰èµ„æºï¼›&lt;/li&gt;
&lt;li&gt;PIDï¼šéš”ç¦» PID ç©ºé—´ï¼›&lt;/li&gt;
&lt;li&gt;ç½‘ç»œï¼šéš”ç¦»ç½‘ç»œæ¥å£ï¼›&lt;/li&gt;
&lt;li&gt;ç”¨æˆ·ï¼šéš”ç¦» UID/GID ç©ºé—´ï¼›&lt;/li&gt;
&lt;li&gt;Cgroupï¼šéš”ç¦» cgroup æ ¹ç›®å½•ã€‚&lt;/li&gt;
&lt;/ol&gt;
&lt;hr&gt;
&lt;h4 id=&#34;namespace-é—®é¢˜&#34;&gt;namespace é—®é¢˜&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;åŸºäº Linux Namespace çš„éš”ç¦»æœºåˆ¶ç›¸æ¯”äºè™šæ‹ŸåŒ–æŠ€æœ¯ä¹Ÿæœ‰å¾ˆå¤šä¸è¶³ä¹‹å¤„ï¼Œå…¶ä¸­æœ€ä¸»è¦çš„é—®é¢˜å°±æ˜¯ï¼š&lt;code&gt;éš”ç¦»å¾—ä¸å½»åº•&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;å®¹å™¨åªæ˜¯è¿è¡Œåœ¨å®¿ä¸»æœºä¸Šçš„ä¸€ç§&lt;code&gt;ç‰¹æ®Šçš„è¿›ç¨‹&lt;/code&gt;ï¼Œé‚£ä¹ˆå¤šä¸ªå®¹å™¨ä¹‹é—´ä½¿ç”¨çš„å°±è¿˜æ˜¯&lt;code&gt;åŒä¸€ä¸ª&lt;/code&gt;å®¿ä¸»æœºçš„æ“ä½œç³»ç»Ÿ&lt;code&gt;å†…æ ¸&lt;/code&gt;
&lt;ul&gt;
&lt;li&gt;è¦åœ¨ Windows å®¿ä¸»æœºä¸Šè¿è¡Œ Linux å®¹å™¨ï¼Œæˆ–è€…åœ¨ä½ç‰ˆæœ¬çš„ Linux å®¿ä¸»æœºä¸Šè¿è¡Œé«˜ç‰ˆæœ¬çš„ Linux å®¹å™¨ï¼Œéƒ½æ˜¯è¡Œä¸é€šçš„&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;åœ¨ Linux å†…æ ¸ä¸­ï¼Œæœ‰å¾ˆå¤šèµ„æºå’Œå¯¹è±¡æ˜¯ä¸èƒ½è¢« Namespace åŒ–çš„ï¼Œæœ€å…¸å‹çš„ä¾‹å­å°±æ˜¯ï¼š&lt;code&gt;æ—¶é—´&lt;/code&gt;
&lt;ul&gt;
&lt;li&gt;å®¹å™¨ä¸­çš„ç¨‹åºä½¿ç”¨ &lt;a href=&#34;https://linux.die.net/man/2/settimeofday&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;settimeofday(2)&lt;/a&gt; ç³»ç»Ÿè°ƒç”¨ä¿®æ”¹äº†æ—¶é—´ï¼Œæ•´ä¸ªå®¿ä¸»æœºçš„æ—¶é—´éƒ½ä¼šè¢«éšä¹‹ä¿®æ”¹&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;hr&gt;
&lt;h3 id=&#34;é™åˆ¶linux-cgroups&#34;&gt;é™åˆ¶ï¼šLinux Cgroups&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;Linux Cgroups çš„å…¨ç§°æ˜¯ Linux Control Groupã€‚å®ƒæœ€ä¸»è¦çš„ä½œç”¨ï¼Œå°±æ˜¯é™åˆ¶ä¸€ä¸ªè¿›ç¨‹ç»„èƒ½å¤Ÿä½¿ç”¨çš„èµ„æºä¸Šé™ï¼ŒåŒ…æ‹¬ CPUã€å†…å­˜ã€ç£ç›˜ã€ç½‘ç»œå¸¦å®½ç­‰ç­‰&lt;/li&gt;
&lt;/ul&gt;
&lt;hr&gt;
&lt;h3 id=&#34;docker-network-namespace&#34;&gt;Docker network namespace&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;ns ä¿å­˜ç›®å½•ä¸€èˆ¬æ˜¯ &lt;code&gt;/var/run/docker/netns/&lt;/code&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;é&lt;/code&gt;é»˜è®¤çš„ &lt;code&gt;/var/run/netns/&lt;/code&gt; è·¯å¾„&lt;/li&gt;
&lt;li&gt;æ‰€ä»¥ &lt;code&gt;ip netns list&lt;/code&gt; æ²¡æœ‰ docker åˆ›å»ºçš„ ns&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;hr&gt;
&lt;h2 id=&#34;22-é€šä¿¡&#34;&gt;2.2 é€šä¿¡&lt;/h2&gt;
&lt;hr&gt;
&lt;h3 id=&#34;è·¨-net-ns-é€šä¿¡veth-pair&#34;&gt;è·¨ net ns é€šä¿¡ï¼šveth pair&lt;/h3&gt;
&lt;p&gt;















&lt;figure  &gt;
  &lt;div class=&#34;d-flex justify-content-center&#34;&gt;
    &lt;div class=&#34;w-100&#34; &gt;&lt;img src=&#34;https://miro.medium.com/max/1400/1*5iksV7EzJEAJG--6d9K_Tg.png&#34; alt=&#34;bg vertical right fit&#34; loading=&#34;lazy&#34; data-zoomable /&gt;&lt;/div&gt;
  &lt;/div&gt;&lt;/figure&gt;
&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;veth æ˜¯&lt;code&gt;è™šæ‹Ÿä»¥å¤ªç½‘å¡&lt;/code&gt;ï¼ˆ&lt;code&gt;Virtual Ethernet&lt;/code&gt;ï¼‰çš„ç¼©å†™&lt;/li&gt;
&lt;li&gt;veth è®¾å¤‡æ€»æ˜¯æˆå¯¹çš„&lt;/li&gt;
&lt;li&gt;veth pair ä¸€ç«¯å‘é€çš„æ•°æ®ä¼šåœ¨å¦å¤–ä¸€ç«¯æ¥æ”¶ï¼Œéå¸¸åƒ Linux çš„&lt;code&gt;åŒå‘ç®¡é“&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;hr&gt;
&lt;h3 id=&#34;å•æœºå®¹å™¨é€šä¿¡ç½‘æ¡¥&#34;&gt;å•æœºå®¹å™¨é€šä¿¡ï¼šç½‘æ¡¥&lt;/h3&gt;
&lt;p&gt;















&lt;figure  &gt;
  &lt;div class=&#34;d-flex justify-content-center&#34;&gt;
    &lt;div class=&#34;w-100&#34; &gt;&lt;img src=&#34;../../../../static/image/2022/20220412135450.png&#34; alt=&#34;bg right fit&#34; loading=&#34;lazy&#34; data-zoomable /&gt;&lt;/div&gt;
  &lt;/div&gt;&lt;/figure&gt;
&lt;/p&gt;
&lt;p&gt;















&lt;figure  &gt;
  &lt;div class=&#34;d-flex justify-content-center&#34;&gt;
    &lt;div class=&#34;w-100&#34; &gt;&lt;img src=&#34;https://miro.medium.com/max/1400/1*uN5lIUU8wDO8EUL8gnQwNA.png&#34; alt=&#34;bg vertical right fit&#34; loading=&#34;lazy&#34; data-zoomable /&gt;&lt;/div&gt;
  &lt;/div&gt;&lt;/figure&gt;
&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;ä¸åŒ &lt;code&gt;net ns&lt;/code&gt; å¦‚ä½•äº’é€šï¼Ÿ&lt;/li&gt;
&lt;li&gt;é€šè¿‡ä¸¤ä¸ªæ¥å£è¿æ¥ä¸¤ä¸ª&lt;code&gt;å†²çªåŸŸ&lt;/code&gt;çš„è£…ç½®ç§°ä¸ºç½‘æ¡¥&lt;/li&gt;
&lt;li&gt;ç½‘æ¡¥çš„ä½œç”¨ç›¸å½“äº OSI æ¨¡å‹ä¸­çš„&lt;code&gt;æ•°æ®é“¾è·¯å±‚&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;hr&gt;
&lt;h3 id=&#34;è·¨ä¸»æœºé€šä¿¡&#34;&gt;è·¨ä¸»æœºé€šä¿¡&lt;/h3&gt;
&lt;p&gt;















&lt;figure  &gt;
  &lt;div class=&#34;d-flex justify-content-center&#34;&gt;
    &lt;div class=&#34;w-100&#34; &gt;&lt;img src=&#34;https://static001.geekbang.org/resource/image/b4/3d/b4387a992352109398a66d1dbe6e413d.png&#34; alt=&#34;bg vertical right fit&#34; loading=&#34;lazy&#34; data-zoomable /&gt;&lt;/div&gt;
  &lt;/div&gt;&lt;/figure&gt;

















&lt;figure  &gt;
  &lt;div class=&#34;d-flex justify-content-center&#34;&gt;
    &lt;div class=&#34;w-100&#34; &gt;&lt;img src=&#34;https://pic4.zhimg.com/80/v2-d6bb72977080c5236e7021aaa8d96483_1440w.png&#34; alt=&#34;bg right fit&#34; loading=&#34;lazy&#34; data-zoomable /&gt;&lt;/div&gt;
  &lt;/div&gt;&lt;/figure&gt;
&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;NAT&lt;/code&gt;ï¼šåˆ©ç”¨å®¿ä¸»æœºçš„ IP å’Œ iptables æ¥è¾¾åˆ°å®¹å™¨ä¸ä¸»æœºä¹‹é—´çš„é€šä¿¡&lt;/li&gt;
&lt;li&gt;&lt;code&gt;Tunnelï¼ˆoverlayï¼‰&lt;/code&gt;ï¼šé€šè¿‡&lt;code&gt;è½¯ä»¶&lt;/code&gt;æ„å»ºä¸€ä¸ªè¦†ç›–åœ¨å·²æœ‰å®¿ä¸»æœºç½‘ç»œä¹‹ä¸Šçš„ï¼Œå¯ä»¥æŠŠæ‰€æœ‰å®¹å™¨è¿é€šåœ¨ä¸€èµ·çš„è™šæ‹Ÿç½‘ç»œ&lt;/li&gt;
&lt;li&gt;&lt;code&gt;Routing&lt;/code&gt;ï¼šé€šè¿‡&lt;code&gt;è·¯ç”±é…ç½®&lt;/code&gt;çš„æ–¹å¼è®©å®¹å™¨å¯¹å®¹å™¨ï¼Œå®¹å™¨å¯¹å®¿ä¸»æœºä¹‹é—´ç›¸é€šä¿¡&lt;/li&gt;
&lt;/ul&gt;
&lt;hr&gt;
&lt;h4 id=&#34;tuntap-è®¾å¤‡&#34;&gt;tun/tap è®¾å¤‡&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;ä» Linux æ–‡ä»¶ç³»ç»Ÿçš„è§’åº¦çœ‹ï¼Œæ˜¯ç”¨æˆ·å¯ä»¥ç”¨æ–‡ä»¶å¥æŸ„æ“ä½œçš„&lt;code&gt;å­—ç¬¦è®¾å¤‡&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;ä»ç½‘ç»œè™šæ‹ŸåŒ–è§’åº¦çœ‹ï¼Œæ˜¯&lt;code&gt;è™šæ‹Ÿç½‘å¡&lt;/code&gt;ï¼Œä¸€ç«¯è¿ç€ç½‘ç»œåè®®æ ˆï¼Œå¦ä¸€ç«¯è¿ç€ç”¨æˆ·æ€ç¨‹åº
&lt;ul&gt;
&lt;li&gt;&lt;small&gt;&lt;code&gt;ç½‘ç»œæ ˆ&lt;/code&gt;ä¸»è¦åŒ…æ‹¬ï¼šç½‘å¡ï¼ˆNetwork Interfaceï¼‰ã€å›ç¯è®¾å¤‡ï¼ˆLoopback Deviceï¼‰ã€è·¯ç”±è¡¨ï¼ˆRouting Tableï¼‰ï¼Œiptables è§„åˆ™å’Œ DNS é…ç½®ç­‰&lt;/small&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;code&gt;tun/tap&lt;/code&gt; å¯ä»¥å°† TCP/IP åè®®æ ˆå¤„ç†å¥½çš„ç½‘ç»œåŒ…å‘é€ç»™ä»»ä½•ä¸€ä¸ªä½¿ç”¨ tun/tap é©±åŠ¨çš„è¿›ç¨‹ï¼Œç”±è¿›ç¨‹å¤„ç†åå‘åˆ°ç‰©ç†é“¾è·¯ä¸­
&lt;ul&gt;
&lt;li&gt;&lt;small&gt;tun/tap åƒæ˜¯ç”¨æˆ·ç¨‹åºç©ºé—´çš„&lt;code&gt;é’©å­&lt;/code&gt;ï¼Œå¯ä»¥å¾ˆæ–¹ä¾¿åœ°å°†å¯¹ç½‘ç»œåŒ…çš„å¤„ç†ç¨‹åºæŒ‚åœ¨è¿™ä¸ªé’©å­ä¸Šï¼ŒOpenVPNã€Vtunã€flannel éƒ½æ˜¯åŸºäºå®ƒå®ç°éš§é“åŒ…å°è£…çš„&lt;/small&gt;ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;hr&gt;
&lt;h5 id=&#34;tuntap-åŸç†&#34;&gt;tun/tap åŸç†&lt;/h5&gt;
&lt;p&gt;















&lt;figure  &gt;
  &lt;div class=&#34;d-flex justify-content-center&#34;&gt;
    &lt;div class=&#34;w-100&#34; &gt;&lt;img src=&#34;https://res.weread.qq.com/wrepub/epub_27741281_79&#34; alt=&#34;bg vertical right 81% fit&#34; loading=&#34;lazy&#34; data-zoomable /&gt;&lt;/div&gt;
  &lt;/div&gt;&lt;/figure&gt;
&lt;/p&gt;
&lt;p&gt;















&lt;figure  &gt;
  &lt;div class=&#34;d-flex justify-content-center&#34;&gt;
    &lt;div class=&#34;w-100&#34; &gt;&lt;img src=&#34;https://res.weread.qq.com/wrepub/epub_27741281_81&#34; alt=&#34;bg vertical right fit&#34; loading=&#34;lazy&#34; data-zoomable /&gt;&lt;/div&gt;
  &lt;/div&gt;&lt;/figure&gt;
&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;tun&lt;/code&gt; è™šæ‹Ÿçš„æ˜¯&lt;code&gt;ç‚¹å¯¹ç‚¹è®¾å¤‡&lt;/code&gt;
&lt;ul&gt;
&lt;li&gt;&lt;small&gt;tun è®¾å¤‡çš„&lt;code&gt;/dev/tunX&lt;/code&gt;æ–‡ä»¶æ”¶å‘çš„æ˜¯ IP åŒ…ï¼Œå› æ­¤åªèƒ½å·¥ä½œåœ¨ L3&lt;/small&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;code&gt;tap&lt;/code&gt; è™šæ‹Ÿçš„æ˜¯&lt;code&gt;ä»¥å¤ªç½‘è®¾å¤‡&lt;/code&gt;
&lt;ul&gt;
&lt;li&gt;&lt;small&gt;tap è®¾å¤‡çš„ &lt;code&gt;/dev/tapX&lt;/code&gt; æ–‡ä»¶æ”¶å‘çš„æ˜¯é“¾è·¯å±‚æ•°æ®åŒ…ï¼Œå¯ä»¥ä¸ç‰©ç†ç½‘å¡åšæ¡¥æ¥&lt;/small&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;small&gt;å¯¹ tun/tap è®¾å¤‡è€Œè¨€ï¼Œå®ƒä¸ç‰©ç†ç½‘å¡çš„ä¸åŒè¡¨ç°åœ¨å®ƒçš„&lt;strong&gt;æ•°æ®æº&lt;/strong&gt;ä¸æ˜¯ç‰©ç†é“¾è·¯ï¼Œè€Œæ˜¯æ¥è‡ª&lt;code&gt;ç”¨æˆ·æ€&lt;/code&gt;&lt;/small&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;hr&gt;
&lt;h4 id=&#34;flannel&#34;&gt;Flannel&lt;/h4&gt;
&lt;p&gt;Flannel é¡¹ç›®æ˜¯ CoreOS å…¬å¸ä¸»æ¨çš„å®¹å™¨ç½‘ç»œæ–¹æ¡ˆã€‚&lt;/p&gt;
&lt;p&gt;Flannel é¡¹ç›®æœ¬èº«åªæ˜¯ä¸€ä¸ªæ¡†æ¶ï¼ŒçœŸæ­£ä¸ºæˆ‘ä»¬æä¾›å®¹å™¨ç½‘ç»œåŠŸèƒ½çš„ï¼Œæ˜¯ Flannel çš„åç«¯å®ç°ï¼Œåˆ†åˆ«æ˜¯ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;del&gt;UDP&lt;/del&gt;ï¼ˆæœ€æ—©å®ç°ï¼Œæ€§èƒ½æœ€å·®ï¼Œå¼ƒç”¨ï¼‰
&lt;ul&gt;
&lt;li&gt;Flannel ä¹‹æ‰€ä»¥æœ€å…ˆé€‰æ‹© UDP æ¨¡å¼ï¼Œå°±æ˜¯å› ä¸ºè¿™ç§æ¨¡å¼æ˜¯æœ€ç›´æ¥ã€ä¹Ÿæ˜¯æœ€å®¹æ˜“ç†è§£çš„å®¹å™¨è·¨ä¸»ç½‘ç»œå®ç°&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;VXLAN&lt;/li&gt;
&lt;li&gt;host-gw&lt;/li&gt;
&lt;/ul&gt;
&lt;hr&gt;
&lt;h5 id=&#34;flannel-udp-æ–¹æ¡ˆ&#34;&gt;Flannel UDP æ–¹æ¡ˆ&lt;/h5&gt;
&lt;p&gt;















&lt;figure  &gt;
  &lt;div class=&#34;d-flex justify-content-center&#34;&gt;
    &lt;div class=&#34;w-100&#34; &gt;&lt;img src=&#34;https://static001.geekbang.org/resource/image/83/6c/8332564c0547bf46d1fbba2a1e0e166c.jpg&#34; alt=&#34;bg right fit&#34; loading=&#34;lazy&#34; data-zoomable /&gt;&lt;/div&gt;
  &lt;/div&gt;&lt;/figure&gt;
&lt;/p&gt;
&lt;p&gt;















&lt;figure  &gt;
  &lt;div class=&#34;d-flex justify-content-center&#34;&gt;
    &lt;div class=&#34;w-100&#34; &gt;&lt;img src=&#34;https://static001.geekbang.org/resource/image/84/8d/84caa6dc3f9dcdf8b88b56bd2e22138d.png&#34; alt=&#34;bg vertical 60% right fit&#34; loading=&#34;lazy&#34; data-zoomable /&gt;&lt;/div&gt;
  &lt;/div&gt;&lt;/figure&gt;
&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# Node 1&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;$ ip route
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# æœ€é•¿åŒ¹é…åŸåˆ™&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;default via 10.168.0.1 dev eth0
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;100.96.0.0/16 dev flannel0  proto kernel  scope link  src 100.96.1.0
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;100.96.1.0/24 dev docker0  proto kernel  scope link  src 100.96.1.1
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;10.168.0.0/24 dev eth0  proto kernel  scope link  src 10.168.0.2
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# Node 2&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;$ ip route
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;default via 10.168.0.1 dev eth0
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;100.96.0.0/16 dev flannel0  proto kernel  scope link  src 100.96.2.0
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;100.96.2.0/24 dev docker0  proto kernel  scope link  src 100.96.2.1
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;10.168.0.0/24 dev eth0  proto kernel  scope link  src 10.168.0.3
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;$ etcdctl ls
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;/coreos.com/network/subnets
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;/coreos.com/network/subnets/100.96.1.0-24
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;/coreos.com/network/subnets/100.96.2.0-24
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;/coreos.com/network/subnets/100.96.3.0-24
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;$ etcdctl get /coreos.com/network/subnets/100.96.2.0-24
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;PublicIP&amp;#34;&lt;/span&gt;:&lt;span class=&#34;s2&#34;&gt;&amp;#34;10.168.0.3&amp;#34;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;hr&gt;
&lt;h5 id=&#34;flannel-vxlan&#34;&gt;Flannel VXLAN&lt;/h5&gt;
&lt;p&gt;















&lt;figure  &gt;
  &lt;div class=&#34;d-flex justify-content-center&#34;&gt;
    &lt;div class=&#34;w-100&#34; &gt;&lt;img src=&#34;https://static001.geekbang.org/resource/image/03/f5/03185fab251a833fef7ed6665d5049f5.jpg&#34; alt=&#34;bg vertical right fit&#34; loading=&#34;lazy&#34; data-zoomable /&gt;&lt;/div&gt;
  &lt;/div&gt;&lt;/figure&gt;
&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;small&gt;&lt;code&gt;VXLAN&lt;/code&gt;ï¼šå³ Virtual Extensible LANï¼Œæ˜¯ Linux &lt;code&gt;å†…æ ¸&lt;/code&gt;æœ¬èº«å°±æ”¯æŒçš„ä¸€ç§ç½‘ç»œè™šä¼¼åŒ–æŠ€æœ¯&lt;/small&gt;&lt;/li&gt;
&lt;li&gt;&lt;small&gt;&lt;code&gt;VTEP&lt;/code&gt;: VXLAN Tunnel End Point&lt;/small&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# åœ¨ Node 1ä¸Š&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;$ route -n
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;10.1.16.0       10.1.16.0       255.255.255.0   UG    &lt;span class=&#34;m&#34;&gt;0&lt;/span&gt;      &lt;span class=&#34;m&#34;&gt;0&lt;/span&gt;        &lt;span class=&#34;m&#34;&gt;0&lt;/span&gt; flannel.1
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;$ ip neigh show dev flannel.1
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;10.1.16.0 lladdr 5e:f8:4f:00:e3:37 PERMANENT
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# flannel.1 â€œç½‘æ¡¥â€ å¯¹åº”çš„ FDB ä¿¡æ¯ï¼Œæ‰¾åˆ°ç›®æ ‡å®¿ä¸»æœº IP&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;$ bridge fdb show flannel.1 &lt;span class=&#34;p&#34;&gt;|&lt;/span&gt; grep 5e:f8:4f:00:e3:37
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;5e:f8:4f:00:e3:37 dev flannel.1 dst 10.168.0.3 self permanent
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;hr&gt;
&lt;h5 id=&#34;flannel-host-gw&#34;&gt;Flannel host-gw&lt;/h5&gt;
&lt;p&gt;















&lt;figure  &gt;
  &lt;div class=&#34;d-flex justify-content-center&#34;&gt;
    &lt;div class=&#34;w-100&#34; &gt;&lt;img src=&#34;https://static001.geekbang.org/resource/image/3d/25/3d8b08411eeb49be2658eb4352206d25.png&#34; alt=&#34;bg right fit&#34; loading=&#34;lazy&#34; data-zoomable /&gt;&lt;/div&gt;
  &lt;/div&gt;&lt;/figure&gt;
&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# node1&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;$ ip route
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;10.244.1.0/24 via 10.168.0.3 dev eth0
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;ul&gt;
&lt;li&gt;&lt;small&gt;ä¸»æœºä¼šå……å½“è¿™æ¡å®¹å™¨é€šä¿¡è·¯å¾„é‡Œçš„ç½‘å…³ï¼Œè¿™ä¹Ÿæ­£æ˜¯&lt;code&gt;host-gw&lt;/code&gt;çš„å«ä¹‰&lt;/small&gt;&lt;/li&gt;
&lt;li&gt;&lt;small&gt;é€šè¿‡ Etcd å’Œå®¿ä¸»æœºä¸Šçš„ flanneld æ¥ç»´æŠ¤è·¯ç”±ä¿¡æ¯&lt;/small&gt;&lt;/li&gt;
&lt;li&gt;&lt;small&gt;è¦æ±‚é›†ç¾¤å®¿ä¸»æœºä¹‹é—´æ˜¯&lt;code&gt;äºŒå±‚è¿é€š&lt;/code&gt;çš„&lt;/small&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;hr&gt;
&lt;h4 id=&#34;calico&#34;&gt;Calico&lt;/h4&gt;
&lt;p&gt;















&lt;figure  &gt;
  &lt;div class=&#34;d-flex justify-content-center&#34;&gt;
    &lt;div class=&#34;w-100&#34; &gt;&lt;img src=&#34;https://static001.geekbang.org/resource/image/2e/9b/2e4b3bee1d924f4ae25e2c1fd115379b.jpg&#34; alt=&#34;bg vertical right fit&#34; loading=&#34;lazy&#34; data-zoomable /&gt;&lt;/div&gt;
  &lt;/div&gt;&lt;/figure&gt;

















&lt;figure  &gt;
  &lt;div class=&#34;d-flex justify-content-center&#34;&gt;
    &lt;div class=&#34;w-100&#34; &gt;&lt;img src=&#34;https://static001.geekbang.org/resource/image/8d/1b/8db6dee96c4242738ae2878e58cecd1b.jpg&#34; alt=&#34;bg right fit&#34; loading=&#34;lazy&#34; data-zoomable /&gt;&lt;/div&gt;
  &lt;/div&gt;&lt;/figure&gt;
&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;small&gt;è¾¹ç•Œç½‘å…³ï¼šè·¯ç”±è¡¨é‡Œæ‹¥æœ‰å…¶ä»–è‡ªæ²»ç³»ç»Ÿé‡Œçš„ä¸»æœºè·¯ç”±ä¿¡æ¯&lt;/small&gt;&lt;/li&gt;
&lt;li&gt;&lt;small&gt;Calico &lt;code&gt;ä¸ä¼š&lt;/code&gt;åœ¨å®¿ä¸»æœºä¸Šåˆ›å»ºä»»ä½•&lt;code&gt;ç½‘æ¡¥&lt;/code&gt;è®¾å¤‡&lt;/small&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# node 2&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;10.233.2.3 dev cali5863f3 scope link
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;hr&gt;
&lt;h5 id=&#34;calico-ipip-æ¨¡å¼&#34;&gt;Calico IPIP æ¨¡å¼&lt;/h5&gt;
&lt;p&gt;















&lt;figure  &gt;
  &lt;div class=&#34;d-flex justify-content-center&#34;&gt;
    &lt;div class=&#34;w-100&#34; &gt;&lt;img src=&#34;https://static001.geekbang.org/resource/image/4d/c9/4dd9ad6415caf68da81562d9542049c9.jpg&#34; alt=&#34;bg right fit&#34; loading=&#34;lazy&#34; data-zoomable /&gt;&lt;/div&gt;
  &lt;/div&gt;&lt;/figure&gt;
&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# node 1&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;10.233.2.0/24 via 192.168.2.2 tunl0
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;ul&gt;
&lt;li&gt;&lt;small&gt;Calico IPIP æ¨¡å¼ä¸ Flannel VXLAN æ¨¡å¼çš„æ€§èƒ½å¤§è‡´ç›¸å½“&lt;/small&gt;&lt;/li&gt;
&lt;li&gt;&lt;small&gt;å…¬æœ‰äº‘ç¯å¢ƒä¸‹ï¼Œå®¿ä¸»æœºä¹‹é—´çš„ç½‘å…³ï¼Œè‚¯å®šä¸ä¼šå…è®¸ç”¨æˆ·è¿›è¡Œå¹²é¢„å’Œè®¾ç½®&lt;/small&gt;&lt;/li&gt;
&lt;li&gt;&lt;small&gt;åœ¨ç§æœ‰éƒ¨ç½²çš„ç¯å¢ƒä¸‹ï¼Œæƒ³åŠæ³•å°†å®¿ä¸»æœºç½‘å…³ä¹ŸåŠ å…¥åˆ° BGP Mesh é‡Œä»è€Œé¿å…ä½¿ç”¨ IPIP&lt;/small&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;hr&gt;
&lt;h1 id=&#34;ä¸‰kubernetes-ç½‘ç»œ&#34;&gt;ä¸‰ã€Kubernetes ç½‘ç»œ&lt;/h1&gt;
&lt;hr&gt;
&lt;h2 id=&#34;cni&#34;&gt;CNI&lt;/h2&gt;
&lt;p&gt;&lt;small&gt;CNI ç½‘æ¡¥ï¼Œå®ƒåœ¨å®¿ä¸»æœºä¸Šçš„è®¾å¤‡åç§°é»˜è®¤æ˜¯ï¼š&lt;code&gt;cni0&lt;/code&gt;&lt;/small&gt;&lt;/p&gt;
&lt;p&gt;















&lt;figure  &gt;
  &lt;div class=&#34;d-flex justify-content-center&#34;&gt;
    &lt;div class=&#34;w-100&#34; &gt;&lt;img src=&#34;https://static001.geekbang.org/resource/image/9f/8c/9f11d8716f6d895ff6d1c813d460488c.jpg&#34; alt=&#34;bg right fit&#34; loading=&#34;lazy&#34; data-zoomable /&gt;&lt;/div&gt;
  &lt;/div&gt;&lt;/figure&gt;
&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# å­ç½‘èŒƒå›´å¯ä»¥åœ¨éƒ¨ç½²æ—¶é…ç½®&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# éƒ¨ç½²å®Œæˆåï¼Œå¯ä»¥ä¿®æ”¹ kube-controller-manager çš„é…ç½®æ–‡ä»¶æ¥æŒ‡å®š&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;$ kubeadm init --pod-network-cidr&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;10.244.0.0/16
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;ol&gt;
&lt;li&gt;&lt;small&gt;&lt;code&gt;ç½‘ç»œæ–¹æ¡ˆ&lt;/code&gt;ï¼šåˆ›å»ºå’Œé…ç½® flannel.1 è®¾å¤‡ã€é…ç½®å®¿ä¸»æœºè·¯ç”±ã€é…ç½® ARP å’Œ FDB è¡¨é‡Œçš„ä¿¡æ¯&lt;/small&gt;&lt;/li&gt;
&lt;li&gt;&lt;small&gt;&lt;code&gt;CNI æ’ä»¶&lt;/code&gt;ï¼šé…ç½® Infra å®¹å™¨é‡Œé¢çš„ç½‘ç»œæ ˆï¼Œå¹¶æŠŠå®ƒè¿æ¥åˆ° CNI ç½‘æ¡¥&lt;/small&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;hr&gt;
&lt;h2 id=&#34;pod-ç½‘ç»œ&#34;&gt;pod ç½‘ç»œ&lt;/h2&gt;
&lt;p&gt;















&lt;figure  &gt;
  &lt;div class=&#34;d-flex justify-content-center&#34;&gt;
    &lt;div class=&#34;w-100&#34; &gt;&lt;img src=&#34;https://miro.medium.com/max/1400/1*oyGbXt7kStLd85ZT4it3oQ.png&#34; alt=&#34;bg right fit&#34; loading=&#34;lazy&#34; data-zoomable /&gt;&lt;/div&gt;
  &lt;/div&gt;&lt;/figure&gt;
&lt;/p&gt;
&lt;p&gt;è¿™ä¸ªå…¶å®å‰é¢éƒ½è®²è¿‡äº†&lt;/p&gt;
&lt;hr&gt;
&lt;h2 id=&#34;service-è´Ÿè½½å‡è¡¡&#34;&gt;service (è´Ÿè½½å‡è¡¡)&lt;/h2&gt;
&lt;p&gt;















&lt;figure  &gt;
  &lt;div class=&#34;d-flex justify-content-center&#34;&gt;
    &lt;div class=&#34;w-100&#34; &gt;&lt;img src=&#34;https://res.weread.qq.com/wrepub/epub_27741281_380&#34; alt=&#34;bg right fit&#34; loading=&#34;lazy&#34; data-zoomable /&gt;&lt;/div&gt;
  &lt;/div&gt;&lt;/figure&gt;
&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Service æ˜¯ç”± kube-proxy ç»„ä»¶ï¼ŒåŠ ä¸Š iptables æ¥å…±åŒå®ç°çš„&lt;/li&gt;
&lt;/ul&gt;
&lt;hr&gt;
&lt;h3 id=&#34;iptables-5x5&#34;&gt;iptables 5x5&lt;/h3&gt;
&lt;small&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;è§„åˆ™åç§°&lt;/th&gt;
&lt;th&gt;&lt;del&gt;raw&lt;/del&gt;&lt;/th&gt;
&lt;th&gt;mangle&lt;/th&gt;
&lt;th&gt;nat(DNAT)&lt;/th&gt;
&lt;th&gt;nat(SNAT)&lt;/th&gt;
&lt;th&gt;filter&lt;/th&gt;
&lt;th&gt;&lt;del&gt;security&lt;/del&gt;&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;PREROUTING&lt;/td&gt;
&lt;td&gt;âœ“&lt;/td&gt;
&lt;td&gt;âœ“&lt;/td&gt;
&lt;td&gt;âœ“&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;INPUT&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;âœ“&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;âœ“&lt;/td&gt;
&lt;td&gt;âœ“&lt;/td&gt;
&lt;td&gt;âœ“&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;OUTPUT&lt;/td&gt;
&lt;td&gt;âœ“&lt;/td&gt;
&lt;td&gt;âœ“&lt;/td&gt;
&lt;td&gt;âœ“&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;âœ“&lt;/td&gt;
&lt;td&gt;âœ“&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;FORWARD&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;âœ“&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;âœ“&lt;/td&gt;
&lt;td&gt;âœ“&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;POSTROUTING&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;âœ“&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;âœ“&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;/small&gt;
&lt;ul&gt;
&lt;li&gt;&lt;small&gt;é‡ç‚¹æ˜¯ &lt;code&gt;3 è¡¨ 5 é“¾&lt;/code&gt;ï¼Œraw å’Œ security æ¯”è¾ƒå°‘ç”¨&lt;/small&gt;&lt;/li&gt;
&lt;li&gt;&lt;small&gt;iptables &lt;code&gt;ä¸æ”¯æŒ&lt;/code&gt;ç”¨æˆ·è‡ªå®šä¹‰è¡¨&lt;/small&gt;&lt;/li&gt;
&lt;li&gt;&lt;small&gt;iptables æ”¯æŒç”¨æˆ·è‡ªå®šä¹‰é“¾&lt;/small&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;hr&gt;
&lt;h4 id=&#34;iptables-5-é“¾-é’©å­ä½ç½®&#34;&gt;iptables 5 é“¾ ï¼ˆé’©å­ä½ç½®ï¼‰&lt;/h4&gt;
&lt;p&gt;















&lt;figure  &gt;
  &lt;div class=&#34;d-flex justify-content-center&#34;&gt;
    &lt;div class=&#34;w-100&#34; &gt;&lt;img src=&#34;https://res.weread.qq.com/wrepub/epub_27741281_94&#34; alt=&#34;bg right fit&#34; loading=&#34;lazy&#34; data-zoomable /&gt;&lt;/div&gt;
  &lt;/div&gt;&lt;/figure&gt;

















&lt;figure  &gt;
  &lt;div class=&#34;d-flex justify-content-center&#34;&gt;
    &lt;div class=&#34;w-100&#34; &gt;&lt;img src=&#34;https://upload-images.jianshu.io/upload_images/13181535-866e1ddf756402b2.png?imageMogr2/auto-orient/strip%7cimageView2/2/format/webp&#34; alt=&#34;bg vertical right fit&#34; loading=&#34;lazy&#34; data-zoomable /&gt;&lt;/div&gt;
  &lt;/div&gt;&lt;/figure&gt;
&lt;/p&gt;
&lt;p&gt;&lt;small&gt;iptables åº•å±‚å®ç°æ˜¯ &lt;code&gt;netfilter&lt;/code&gt;ï¼ŒIP å±‚çš„ 5 ä¸ª hook çš„ä½ç½®ï¼Œå¯¹åº” iptables å°±æ˜¯ 5 æ¡&lt;code&gt;å†…ç½®é“¾&lt;/code&gt;&lt;/small&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;small&gt;&lt;code&gt;PREROUTING&lt;/code&gt;ï¼š&lt;strong&gt;DNAT&lt;/strong&gt;ï¼ˆå†…éƒ¨æœåŠ¡å¯¹å¤–å‘å¸ƒï¼‰&lt;/small&gt;&lt;/li&gt;
&lt;li&gt;&lt;small&gt;&lt;code&gt;INPUT&lt;/code&gt;ï¼šå¤„ç†è¾“å…¥æœ¬åœ°è¿›ç¨‹çš„åŒ…&lt;/small&gt;&lt;/li&gt;
&lt;li&gt;&lt;small&gt;&lt;code&gt;OUTPUT&lt;/code&gt;ï¼šå¤„ç†æœ¬åœ°è¿›ç¨‹çš„è¾“å‡ºåŒ…&lt;/small&gt;&lt;/li&gt;
&lt;li&gt;&lt;small&gt;&lt;code&gt;FORWARD&lt;/code&gt;ï¼šå¤„ç†è½¬å‘çš„åŒ…&lt;/small&gt;&lt;/li&gt;
&lt;li&gt;&lt;small&gt;&lt;code&gt;POSTROUTING&lt;/code&gt;ï¼š&lt;strong&gt;SNAT&lt;/strong&gt;ï¼ˆå†…éƒ¨å…±äº« IP è®¿é—®å¤–éƒ¨ï¼‰&lt;/small&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;hr&gt;
&lt;h4 id=&#34;iptables-5-è¡¨-åˆ†ç±»ç®¡ç†-rule&#34;&gt;iptables 5 è¡¨ ï¼ˆåˆ†ç±»ç®¡ç† ruleï¼‰&lt;/h4&gt;
&lt;p&gt;ä¼˜å…ˆçº§ä»é«˜åˆ°ä½åˆ†åˆ«æ˜¯ï¼šrawã€mangleã€natã€filterã€security&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;raw&lt;/code&gt;ï¼š&lt;del&gt;iptables æ˜¯æœ‰çŠ¶æ€çš„ï¼Œå³ iptables å¯¹æ•°æ®åŒ…æœ‰è¿æ¥è¿½è¸ªï¼ˆconnectiontrackingï¼‰æœºåˆ¶ï¼Œè€Œ raw æ˜¯ç”¨æ¥å»é™¤è¿™ç§è¿½è¸ªæœºåˆ¶çš„ï¼›&lt;/del&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;mangle&lt;/code&gt;ï¼šä¿®æ”¹æ•°æ®åŒ…çš„æœåŠ¡ç±»å‹ï¼Œç”Ÿå­˜å‘¨æœŸï¼Œä¸ºæ•°æ®åŒ…è®¾ç½®æ ‡è®°ï¼Œå®ç°æµé‡æ•´å½¢ã€ç­–ç•¥è·¯ç”±ï¼›&lt;/li&gt;
&lt;li&gt;&lt;code&gt;nat&lt;/code&gt;ï¼šç”¨äºä¿®æ”¹æ•°æ®åŒ…çš„&lt;strong&gt;æºå’Œç›®çš„åœ°å€&lt;/strong&gt;ï¼›&lt;/li&gt;
&lt;li&gt;&lt;code&gt;filter&lt;/code&gt;ï¼šç”¨äºæ§åˆ¶åˆ°è¾¾æŸæ¡é“¾ä¸Šçš„æ•°æ®åŒ…æ˜¯&lt;strong&gt;ç»§ç»­æ”¾è¡Œã€ç›´æ¥ä¸¢å¼ƒï¼ˆdropï¼‰æˆ–æ‹’ç»ï¼ˆrejectï¼‰&lt;/strong&gt;ï¼›&lt;/li&gt;
&lt;li&gt;&lt;code&gt;security&lt;/code&gt;ï¼š&lt;del&gt;æœ€ä¸å¸¸ç”¨çš„è¡¨ï¼ˆé€šå¸¸ï¼Œæˆ‘ä»¬è¯´ iptables åªæœ‰ 4 å¼ è¡¨ï¼Œsecurity`æ˜¯æ–°åŠ å…¥çš„ç‰¹æ€§ï¼‰ï¼Œç”¨äºåœ¨æ•°æ®åŒ…ä¸Šåº”ç”¨ SELinuxã€‚&lt;/del&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;hr&gt;
&lt;h4 id=&#34;iptables-rule&#34;&gt;iptables rule&lt;/h4&gt;
&lt;p&gt;&lt;small&gt;ä¸€æ¡ iptables è§„åˆ™åŒ…å«ï¼š&lt;code&gt;åŒ¹é…æ¡ä»¶&lt;/code&gt;ï¼ˆå¤šä¸ªæ¡ä»¶æ˜¯&lt;strong&gt;é€»è¾‘ä¸&lt;/strong&gt;çš„å…³ç³»ï¼‰å’Œ&lt;code&gt;åŠ¨ä½œ&lt;/code&gt;&lt;/small&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;small&gt;&lt;code&gt;DROP&lt;/code&gt;ï¼šç›´æ¥å°†æ•°æ®åŒ…ä¸¢å¼ƒï¼Œä¸å†è¿›è¡Œåç»­çš„å¤„ç†ã€‚å¯ä»¥ç”¨æ¥æ¨¡æ‹Ÿ&lt;code&gt;å®•æœº&lt;/code&gt;&lt;/small&gt;&lt;/li&gt;
&lt;li&gt;&lt;small&gt;&lt;code&gt;REJECT&lt;/code&gt;ï¼šç»™å®¢æˆ·ç«¯è¿”å› Connection Refused æˆ– Destination Unreachable æŠ¥æ–‡&lt;/small&gt;&lt;/li&gt;
&lt;li&gt;&lt;small&gt;&lt;code&gt;RETURN&lt;/code&gt;ï¼šè·³å‡ºå½“å‰é“¾ï¼Œè¯¥é“¾é‡Œåç»­çš„è§„åˆ™ä¸å†æ‰§è¡Œ&lt;/small&gt;&lt;/li&gt;
&lt;li&gt;&lt;small&gt;&lt;code&gt;ACCEPT&lt;/code&gt;ï¼šåŒæ„æ•°æ®åŒ…é€šè¿‡ï¼Œç»§ç»­æ‰§è¡Œåç»­çš„è§„åˆ™&lt;/small&gt;&lt;/li&gt;
&lt;li&gt;&lt;small&gt;&lt;code&gt;QUEUE&lt;/code&gt;ï¼šå°†æ•°æ®åŒ…æ”¾å…¥ç”¨æˆ·ç©ºé—´çš„é˜Ÿåˆ—ï¼Œä¾›ç”¨æˆ·ç©ºé—´çš„ç¨‹åºå¤„ç†&lt;/small&gt;&lt;/li&gt;
&lt;li&gt;&lt;small&gt;&lt;code&gt;JUMP&lt;/code&gt;ï¼šè·³è½¬åˆ°å…¶ä»–&lt;code&gt;ç”¨æˆ·è‡ªå®šä¹‰çš„é“¾&lt;/code&gt;ç»§ç»­æ‰§è¡Œ&lt;/small&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;hr&gt;
&lt;h4 id=&#34;iptables-å‘½ä»¤ç¤ºä¾‹&#34;&gt;iptables å‘½ä»¤ç¤ºä¾‹&lt;/h4&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;iptables &lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;-t è¡¨å&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt; ç®¡ç†é€‰é¡¹ &lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;é“¾å&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;åŒ¹é…æ¡ä»¶&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;-j æ§åˆ¶ç±»å‹&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# æŸ¥è¯¢è§„åˆ™ (é»˜è®¤æ˜¯ filter è¡¨)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;iptables -L -n
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# æŸ¥è¯¢ nat è¡¨çš„è§„åˆ™&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;iptables -t nat -L -n
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# åªå¼€å¯ 22 ç«¯å£&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;iptables -A INPUT -p tcp --dport &lt;span class=&#34;m&#34;&gt;22&lt;/span&gt; -j ACCEPT
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# å…³é—­æ‰€æœ‰å¤–éƒ¨è®¿é—®&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;iptables -P INPUT DROP
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# å…è®¸æœ¬æœºè®¿é—®&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;iptables -A INPUT -i lo -j ACCEPT
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# å…è®¸è®¿é—®å¤–ç½‘&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;iptables -A INPUT -m state --state ESTABLISHED -j ACCEPT
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# 80 ç«¯å£è¢«å äº†ï¼Œå®é™… Web æœåŠ¡ç›‘å¬åœ¨ 8080 ç«¯å£ä¸Š&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;iptables -t nat -A PREROUTING -p tcp --dport &lt;span class=&#34;m&#34;&gt;80&lt;/span&gt; -j REDIRECT --to-port &lt;span class=&#34;m&#34;&gt;8080&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;iptables -A INPUT -p icmp -j DROP
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;hr&gt;
&lt;h3 id=&#34;service---iptables-æ¨¡å¼&#34;&gt;service - iptables æ¨¡å¼&lt;/h3&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;$ kubectl get endpoints hostnames
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;NAME        ENDPOINTS
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;hostnames   10.244.1.7:9376,10.244.2.3:9376,10.244.3.6:9376
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;$ kubectl get svc hostnames
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;NAME        TYPE        CLUSTER-IP   EXTERNAL-IP   PORT&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;S&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;   AGE
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;hostnames   ClusterIP   10.0.1.175   &amp;lt;none&amp;gt;        80/TCP    5s
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# iptables&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;-A KUBE-SERVICES -d 10.0.1.175/32 -p tcp -m comment --comment &lt;span class=&#34;s2&#34;&gt;&amp;#34;default/hostnames: cluster IP&amp;#34;&lt;/span&gt; -m tcp --dport &lt;span class=&#34;m&#34;&gt;80&lt;/span&gt; -j KUBE-SVC-NWV5X2332I4OT4T3
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;-A KUBE-SVC-NWV5X2332I4OT4T3 -m comment --comment &lt;span class=&#34;s2&#34;&gt;&amp;#34;default/hostnames:&amp;#34;&lt;/span&gt; -m statistic --mode random --probability 0.33332999982 -j KUBE-SEP-WNBA2IHDGP2BOBGZ
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;-A KUBE-SVC-NWV5X2332I4OT4T3 -m comment --comment &lt;span class=&#34;s2&#34;&gt;&amp;#34;default/hostnames:&amp;#34;&lt;/span&gt; -m statistic --mode random --probability 0.50000000000 -j KUBE-SEP-X3P2623AGDH6CDF3
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;-A KUBE-SVC-NWV5X2332I4OT4T3 -m comment --comment &lt;span class=&#34;s2&#34;&gt;&amp;#34;default/hostnames:&amp;#34;&lt;/span&gt; -j KUBE-SEP-57KPRZ3JQVENLNBR
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;-A KUBE-SEP-57KPRZ3JQVENLNBR -d 10.244.3.6/32 -m comment --comment &lt;span class=&#34;s2&#34;&gt;&amp;#34;default/hostnames:&amp;#34;&lt;/span&gt; -j MARK --set-xmark 0x00004000/0x00004000
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;-A KUBE-SEP-57KPRZ3JQVENLNBR -p tcp -m comment --comment &lt;span class=&#34;s2&#34;&gt;&amp;#34;default/hostnames:&amp;#34;&lt;/span&gt; -m tcp -j DNAT --to-destination 10.244.3.6:9376
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;-A KUBE-SEP-WNBA2IHDGP2BOBGZ -d 10.244.1.7/32 -m comment --comment &lt;span class=&#34;s2&#34;&gt;&amp;#34;default/hostnames:&amp;#34;&lt;/span&gt; -j MARK --set-xmark 0x00004000/0x00004000
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;-A KUBE-SEP-WNBA2IHDGP2BOBGZ -p tcp -m comment --comment &lt;span class=&#34;s2&#34;&gt;&amp;#34;default/hostnames:&amp;#34;&lt;/span&gt; -m tcp -j DNAT --to-destination 10.244.1.7:9376
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;-A KUBE-SEP-X3P2623AGDH6CDF3 -d 10.244.2.3/32 -m comment --comment &lt;span class=&#34;s2&#34;&gt;&amp;#34;default/hostnames:&amp;#34;&lt;/span&gt; -j MARK --set-xmark 0x00004000/0x00004000
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;-A KUBE-SEP-X3P2623AGDH6CDF3 -p tcp -m comment --comment &lt;span class=&#34;s2&#34;&gt;&amp;#34;default/hostnames:&amp;#34;&lt;/span&gt; -m tcp -j DNAT --to-destination 10.244.2.3:9376
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;hr&gt;
&lt;h3 id=&#34;service---ipvs-æ¨¡å¼&#34;&gt;service - ipvs æ¨¡å¼&lt;/h3&gt;
&lt;p&gt;&lt;small&gt;IPVS åœ¨å†…æ ¸ä¸­çš„å®ç°å…¶å®ä¹Ÿæ˜¯åŸºäº Netfilter çš„ &lt;code&gt;NAT æ¨¡å¼&lt;/code&gt;&lt;/small&gt;&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;$ ip addr
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  73ï¼škube-ipvs0ï¼š&amp;lt;BROADCAST,NOARP&amp;gt;  mtu &lt;span class=&#34;m&#34;&gt;1500&lt;/span&gt; qdisc noop state DOWN qlen &lt;span class=&#34;m&#34;&gt;1000&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  link/ether  1a:ce:f5:5f:c1:4d brd ff:ff:ff:ff:ff:ff
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  inet 10.0.1.175/32  scope global kube-ipvs0
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  valid_lft forever  preferred_lft forever
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;$ ipvsadm -ln
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt; IP Virtual Server version 1.2.1 &lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;size&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;4096&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  Prot LocalAddress:Port Scheduler Flags
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    -&amp;gt;  RemoteAddress:Port           Forward  Weight ActiveConn InActConn
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  TCP  10.102.128.4:80 rr
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    -&amp;gt;  10.244.3.6:9376    Masq    &lt;span class=&#34;m&#34;&gt;1&lt;/span&gt;       &lt;span class=&#34;m&#34;&gt;0&lt;/span&gt;          &lt;span class=&#34;m&#34;&gt;0&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    -&amp;gt;  10.244.1.7:9376    Masq    &lt;span class=&#34;m&#34;&gt;1&lt;/span&gt;       &lt;span class=&#34;m&#34;&gt;0&lt;/span&gt;          &lt;span class=&#34;m&#34;&gt;0&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    -&amp;gt;  10.244.2.3:9376    Masq    &lt;span class=&#34;m&#34;&gt;1&lt;/span&gt;       &lt;span class=&#34;m&#34;&gt;0&lt;/span&gt;          &lt;span class=&#34;m&#34;&gt;0&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;hr&gt;
&lt;h3 id=&#34;é›†ç¾¤å¤–è®¿é—®&#34;&gt;é›†ç¾¤å¤–è®¿é—®&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;&lt;small&gt;NodePort&lt;/small&gt;&lt;/li&gt;
&lt;li&gt;&lt;small&gt;LoadBalancer&lt;/small&gt;&lt;/li&gt;
&lt;li&gt;&lt;small&gt;ExternalName&lt;/small&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# iptables&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;-A KUBE-NODEPORTS -p tcp -m comment --comment &lt;span class=&#34;s2&#34;&gt;&amp;#34;default/my-nginx: nodePort&amp;#34;&lt;/span&gt; -m tcp --dport &lt;span class=&#34;m&#34;&gt;8080&lt;/span&gt; -j KUBE-SVC-67RL4FN6JRUPOJYM
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# IP åŒ…ç¦»å¼€å®¿ä¸»æœºå‘å¾€ç›®çš„ Pod æ—¶è¿›è¡Œ SNATã€‚å°†è¿™ä¸ª IP åŒ…çš„æºåœ°å€æ›¿æ¢æˆäº†è¿™å°å®¿ä¸»æœºä¸Šçš„ CNI ç½‘æ¡¥åœ°å€ï¼Œæˆ–è€…å®¿ä¸»æœºæœ¬èº«çš„ IP åœ°å€ï¼ˆå¦‚æœ CNI ç½‘æ¡¥ä¸å­˜åœ¨çš„è¯ï¼‰&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# æŸ¥çœ‹è¯¥ IP åŒ…æ˜¯å¦æœ‰ä¸€ä¸ª â€œ0x4000â€ çš„æ ‡å¿—ï¼ˆIP åŒ…è¢«æ‰§è¡Œ DNAT æ“ä½œä¹‹å‰è¢«æ‰“ä¸Šå»çš„ï¼‰&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;-A KUBE-POSTROUTING -m comment --comment &lt;span class=&#34;s2&#34;&gt;&amp;#34;kubernetes service traffic requiring SNAT&amp;#34;&lt;/span&gt; -m mark --mark 0x4000/0x4000 -j MASQUERADE
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;           client
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;             &lt;span class=&#34;se&#34;&gt;\ &lt;/span&gt;^
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;              &lt;span class=&#34;se&#34;&gt;\ \
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;se&#34;&gt;&lt;/span&gt;               v &lt;span class=&#34;se&#34;&gt;\
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;se&#34;&gt;&lt;/span&gt;   node &lt;span class=&#34;m&#34;&gt;1&lt;/span&gt; &amp;lt;--- node &lt;span class=&#34;m&#34;&gt;2&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;p&#34;&gt;|&lt;/span&gt; ^   SNAT
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;p&#34;&gt;|&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;|&lt;/span&gt;   ---&amp;gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    v &lt;span class=&#34;p&#34;&gt;|&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt; endpoint
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;hr&gt;
&lt;h3 id=&#34;kube-dnscoredns&#34;&gt;kube-dns/coredns&lt;/h3&gt;
&lt;p&gt;















&lt;figure  &gt;
  &lt;div class=&#34;d-flex justify-content-center&#34;&gt;
    &lt;div class=&#34;w-100&#34; &gt;&lt;img src=&#34;https://shoreline.io/_next/image?url=%2Fuploads%2Fposts%2Fcoredns.jpg&amp;amp;w=1920&amp;amp;q=75&#34; alt=&#34;bg right fit&#34; loading=&#34;lazy&#34; data-zoomable /&gt;&lt;/div&gt;
  &lt;/div&gt;&lt;/figure&gt;
&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;nameserver 10.250.0.10
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;search default.svc.cluster.local svc.cluster.local cluster.local
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# å¦‚æœéœ€è¦ lookup çš„ Domain ä¸­åŒ…å«å°‘äº 5 ä¸ª `.` ï¼Œé‚£ä¹ˆå°†ä¼šè¢«å½“åšéç»å¯¹åŸŸå&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;options ndots:5
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;$ curl a
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;a.default.svc.cluster.local &lt;span class=&#34;c1&#34;&gt;# Found&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;$ curl a.default
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;a.default.default.svc.cluster.local &lt;span class=&#34;c1&#34;&gt;# Not Found&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;a.default.svc.cluster.local &lt;span class=&#34;c1&#34;&gt;# Found&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# åœ¨è¦è®¿é—®çš„åŸŸååé¢åŠ ä¸Šç‚¹(.)ï¼Œå¯ä»¥é¿å…èµ° search åŸŸè¿›è¡ŒåŒ¹é…&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;$ curl iftech.io.
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;small&gt;é»˜è®¤&lt;code&gt;ClusterFirst&lt;/code&gt;ï¼Œä¼˜å…ˆä½¿ç”¨ &lt;code&gt;kubedns&lt;/code&gt; è¿›è¡ŒåŸŸåè§£æï¼Œè§£æä¸æˆåŠŸæ‰ä¼šä½¿ç”¨&lt;code&gt;å®¿ä¸»æœº&lt;/code&gt;çš„ DNS é…ç½®è¿›è¡Œè§£æ&lt;/small&gt;&lt;/p&gt;
&lt;hr&gt;
&lt;h3 id=&#34;ingress&#34;&gt;Ingress&lt;/h3&gt;
&lt;p&gt;















&lt;figure  &gt;
  &lt;div class=&#34;d-flex justify-content-center&#34;&gt;
    &lt;div class=&#34;w-100&#34; &gt;&lt;img src=&#34;https://blog.fleeto.us/post/life-of-a-packet-in-k8s-4/images/1.png&#34; alt=&#34;bg right fit&#34; loading=&#34;lazy&#34; data-zoomable /&gt;&lt;/div&gt;
  &lt;/div&gt;&lt;/figure&gt;
&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;æ‰€è°“ Ingressï¼Œå°±æ˜¯ &lt;code&gt;Service çš„ â€œServiceâ€&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;hr&gt;
&lt;h3 id=&#34;å¸¸è§ç½‘ç»œé—®é¢˜æ’æŸ¥&#34;&gt;å¸¸è§ç½‘ç»œé—®é¢˜æ’æŸ¥&lt;/h3&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# 1. service ä¸é€šã€‚åŒºåˆ† coredns è¿˜æ˜¯ service é—®é¢˜&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;$ nslookup kubernetes.default
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Server:    10.0.0.10
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Address 1: 10.0.0.10 kube-dns.kube-system.svc.cluster.local
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# 2. æŸ¥çœ‹ dns å®ä¾‹&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;kubectl get pods --namespace&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;kube-system -l k8s-app&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;kube-dns
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;NAME                       READY     STATUS    RESTARTS   AGE
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;coredns-7b96bf9f76-5hsxb   1/1       Running   &lt;span class=&#34;m&#34;&gt;0&lt;/span&gt;           1h
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;coredns-7b96bf9f76-mvmmt   1/1       Running   &lt;span class=&#34;m&#34;&gt;0&lt;/span&gt;           1h
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# 3. service clusterIP ä¸é€šã€‚æŸ¥çœ‹ endpoints é—®é¢˜è¿˜æ˜¯ kube-proxy é—®é¢˜&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;$ kubectl get endpoints hostnames
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;NAME        ENDPOINTS
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;hostnames   10.244.0.5:9376,10.244.0.6:9376,10.244.0.7:9376
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;hr&gt;
&lt;h1 id=&#34;æ¨èä¹¦ç±&#34;&gt;æ¨èä¹¦ç±&lt;/h1&gt;
&lt;p&gt;















&lt;figure  &gt;
  &lt;div class=&#34;d-flex justify-content-center&#34;&gt;
    &lt;div class=&#34;w-100&#34; &gt;&lt;img src=&#34;https://img1.doubanio.com/view/subject/l/public/s29825217.jpg&#34; alt=&#34;bg fit&#34; loading=&#34;lazy&#34; data-zoomable /&gt;&lt;/div&gt;
  &lt;/div&gt;&lt;/figure&gt;

















&lt;figure  &gt;
  &lt;div class=&#34;d-flex justify-content-center&#34;&gt;
    &lt;div class=&#34;w-100&#34; &gt;&lt;img src=&#34;https://img1.doubanio.com/view/subject/l/public/s29370067.jpg&#34; alt=&#34;bg fit&#34; loading=&#34;lazy&#34; data-zoomable /&gt;&lt;/div&gt;
  &lt;/div&gt;&lt;/figure&gt;

















&lt;figure  &gt;
  &lt;div class=&#34;d-flex justify-content-center&#34;&gt;
    &lt;div class=&#34;w-100&#34; &gt;&lt;img src=&#34;https://img2.doubanio.com/view/subject/l/public/s27316002.jpg&#34; alt=&#34;bg fit&#34; loading=&#34;lazy&#34; data-zoomable /&gt;&lt;/div&gt;
  &lt;/div&gt;&lt;/figure&gt;

















&lt;figure  &gt;
  &lt;div class=&#34;d-flex justify-content-center&#34;&gt;
    &lt;div class=&#34;w-100&#34; &gt;&lt;img src=&#34;https://img1.doubanio.com/view/subject/l/public/s33499479.jpg&#34; alt=&#34;bg fit&#34; loading=&#34;lazy&#34; data-zoomable /&gt;&lt;/div&gt;
  &lt;/div&gt;&lt;/figure&gt;

















&lt;figure  &gt;
  &lt;div class=&#34;d-flex justify-content-center&#34;&gt;
    &lt;div class=&#34;w-100&#34; &gt;&lt;img src=&#34;https://img2.doubanio.com/view/subject/l/public/s33868983.jpg&#34; alt=&#34;bg fit&#34; loading=&#34;lazy&#34; data-zoomable /&gt;&lt;/div&gt;
  &lt;/div&gt;&lt;/figure&gt;
&lt;/p&gt;
</description>
    </item>
    
  </channel>
</rss>
